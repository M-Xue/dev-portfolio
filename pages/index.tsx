import type { NextPage } from 'next'
import Head from 'next/head'
import Image from 'next/image'
import { useEffect, useRef } from 'react'
import { About } from '../components/About'
import { Contact } from '../components/Contact'
import { Education } from '../components/Education'
import { Intro } from '../components/Intro'
import { LeftSiderbar } from '../components/LeftSiderbar'
import { Projects } from '../components/Projects'
import { RightSidebar } from '../components/RightSidebar'
import { Skills } from '../components/Skills'
import { Topbar } from '../components/Topbar'
import useOnScreen from '../hooks/useOnScreen'
import styles from '../styles/Home.module.css'


const Home: NextPage = () => {

  const topbarRef = useRef<HTMLDivElement | null>(null);
  const isVisibleTopbar = useOnScreen(topbarRef);
  // * have to use forwardRef or smth

  // useEffect(() => {
  //   console.log(topbarRef);
  

  // })
  

  return (
    <>
      <Head>
        <title>MX Dev Portfolio</title>
        <meta name="description" content="Generated by create next app" />
      </Head>
      <div className={styles.container}>
        <div className={styles.backgroundColour}></div>

        <Topbar ref={topbarRef}/>
        {isVisibleTopbar && <LeftSiderbar/>}



        {/* <Topbar /> 
        <LeftSiderbar/> */}
        <RightSidebar/>
        <main className={styles.main}>
          <Intro/>
          <About/>
          {/* <Skills/>
          <Projects/>
          <Education/>
          <Contact/> */}
        </main>

        <footer className={styles.footer}>
          
        </footer>
      </div>
    </>
  )
}

export default Home

// light: rgb(249,250,251) from TanStack and https://leerob.io/
// - font: black (or rgb(17,24,39))
// dark: rgb(27,31,36) from GitHub CoPilot
// - font: white

// Content width: 1200px

// Should embed prosemirror editor, google doc and messenger project in the page